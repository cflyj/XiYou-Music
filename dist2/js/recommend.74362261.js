(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["recommend"],{"70d8":function(e,t,c){"use strict";var l=c("7a23"),s=c("bba4"),n=c("5502");t["a"]={name:"wrap-scroll",props:s["a"].props,emits:s["a"].emits,render(e){return Object(l["p"])(s["a"],Object(l["r"])({ref:"scrollRef"},e.$props,{onScroll:t=>{e.$emit("scroll",t)}}),{default:Object(l["R"])(()=>[Object(l["G"])(e.$slots,"default")])})},setup(){const e=Object(l["E"])(null),t=Object(l["f"])(()=>e.value.scroll),c=Object(n["e"])(),s=Object(l["f"])(()=>c.state.playlist);return Object(l["Q"])(s,async()=>{await Object(l["s"])(),t.value.refresh()}),{scrollRef:e,scroll:t}}}},"749d":function(e,t,c){},"78db":function(e,t,c){"use strict";c.r(t);var l=c("7a23");const s={class:"recommend"},n={class:"slider-wrapper"},r={class:"slider-content"},a={class:"recommend-list"},b={class:"list-title"},i=["onClick"],d={class:"icon"},u={width:"60",height:"60"},j={class:"text"},o={class:"name"},O={class:"title"};function m(e,t,c,m,p,f){const v=Object(l["H"])("Slider"),h=Object(l["H"])("scroll"),k=Object(l["H"])("router-view"),g=Object(l["I"])("lazy"),w=Object(l["I"])("loading");return Object(l["S"])((Object(l["z"])(),Object(l["j"])("div",s,[Object(l["l"])(h,{class:"recommend-content"},{default:Object(l["R"])(()=>[Object(l["k"])("div",null,[Object(l["k"])("div",n,[Object(l["k"])("div",r,[p.sliders.length?(Object(l["z"])(),Object(l["h"])(v,{key:0,sliders:p.sliders},null,8,["sliders"])):Object(l["i"])("",!0)])]),Object(l["k"])("div",a,[Object(l["S"])(Object(l["k"])("h1",b,"热门歌单推荐",512),[[l["P"],!f.loading]]),Object(l["k"])("ul",null,[(Object(l["z"])(!0),Object(l["j"])(l["a"],null,Object(l["F"])(p.albums,e=>(Object(l["z"])(),Object(l["j"])("li",{class:"item",key:e.id,onClick:t=>f.selectItem(e)},[Object(l["k"])("div",d,[Object(l["S"])(Object(l["k"])("img",u,null,512),[[g,e.pic]])]),Object(l["k"])("div",j,[Object(l["k"])("h2",o,Object(l["M"])(e.username),1),Object(l["k"])("p",O,Object(l["M"])(e.title),1)])],8,i))),128))])])])]),_:1}),Object(l["l"])(k,null,{default:Object(l["R"])(({Component:e})=>[Object(l["l"])(l["d"],{appear:"",name:"slide"},{default:Object(l["R"])(()=>[(Object(l["z"])(),Object(l["h"])(Object(l["J"])(e),{data:p.selectedAlbum},null,8,["data"]))]),_:2},1024)]),_:1})])),[[w,f.loading]])}c("14d9");var p=c("dc69"),f=c("70d8");const v={class:"slider",ref:"rootRef"},h={class:"slider-group"},k=["href"],g=["src"],w={class:"dots-wrapper"};function y(e,t,c,s,n,r){return Object(l["z"])(),Object(l["j"])("div",v,[Object(l["k"])("div",h,[(Object(l["z"])(!0),Object(l["j"])(l["a"],null,Object(l["F"])(c.sliders,e=>(Object(l["z"])(),Object(l["j"])("div",{class:"slider-page",key:e.id},[Object(l["k"])("a",{href:e.link},[Object(l["k"])("img",{src:e.pic},null,8,g)],8,k)]))),128))]),Object(l["k"])("div",w,[(Object(l["z"])(!0),Object(l["j"])(l["a"],null,Object(l["F"])(c.sliders,(e,t)=>(Object(l["z"])(),Object(l["j"])("span",{class:Object(l["t"])(["dot",{active:s.currentPageIndex===t}]),key:e.id},null,2))),128))])],512)}var z=c("229e"),I=c("2bb4");function R(e){const t=Object(l["E"])(null),c=Object(l["E"])(0);return Object(l["x"])(()=>{const l=t.value=new z["a"](e.value,{click:!0,scrollX:!0,scrollY:!1,momentum:!1,bounce:!1,probeType:2,slide:!0});l.on("slideWillChange",e=>{c.value=e.pageX})}),Object(l["y"])(()=>{t.value.destroy()}),Object(l["v"])(()=>{t.value.enable(),t.value.refresh()}),Object(l["w"])(()=>{t.value.disable()}),{slider:t,currentPageIndex:c}}z["a"].use(I["a"]);var A={name:"slider",props:{sliders:{type:Array,default(){return[]}}},setup(){const e=Object(l["E"])(null),{currentPageIndex:t}=R(e);return{rootRef:e,currentPageIndex:t}}},S=(c("e5eb"),c("6b0d")),_=c.n(S);const x=_()(A,[["render",y],["__scopeId","data-v-25b818ff"]]);var P=x,C=c("335a"),E=c("aaef"),$={name:"recommend",components:{Slider:P,Scroll:f["a"]},data(){return{sliders:[],albums:[],selectedAlbum:null}},computed:{loading(){return!this.sliders.length&&!this.albums.length}},async created(){const e=await Object(p["b"])();this.sliders=e.sliders,this.albums=e.albums},methods:{selectItem(e){this.selectedAlbum=e,this.catchAlbum(e),this.$router.push({path:"/recommend/"+e.id})},catchAlbum(e){C["a"].session.set(E["a"],e)}}};c("f360");const F=_()($,[["render",m],["__scopeId","data-v-69d0c685"]]);t["default"]=F},d319:function(e,t,c){},dc69:function(e,t,c){"use strict";c.d(t,"b",(function(){return s})),c.d(t,"a",(function(){return n}));var l=c("58ff");function s(){return Object(l["a"])("/api/getRecommend")}function n(e){return Object(l["a"])("/api/getAlbum",{id:e.id})}},e5eb:function(e,t,c){"use strict";c("d319")},f360:function(e,t,c){"use strict";c("749d")}}]);