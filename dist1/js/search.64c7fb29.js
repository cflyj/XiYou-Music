(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search"],{"4e22":function(e,c,t){"use strict";t.r(c);var l=t("7a23");const a=e=>(Object(l["C"])("data-v-5c07e52a"),e=e(),Object(l["A"])(),e),s={class:"search"},n={class:"search-input-wrapper"},r={class:"hot-keys"},o=a(()=>Object(l["k"])("h1",{class:"title"},"热门搜索",-1)),u=["onClick"],b={class:"search-history"},j={class:"title"},i=a(()=>Object(l["k"])("span",{class:"text"},"搜索历史",-1)),O=a(()=>Object(l["k"])("i",{class:"icon-clear"},null,-1)),d=[O],f={class:"search-result"};function h(e,c,t,a,O,h){const p=Object(l["H"])("search-input"),S=Object(l["H"])("confirm"),y=Object(l["H"])("search-list"),m=Object(l["H"])("scroll"),v=Object(l["H"])("suggest"),k=Object(l["H"])("router-view");return Object(l["z"])(),Object(l["j"])("div",s,[Object(l["k"])("div",n,[Object(l["l"])(p,{modelValue:a.query,"onUpdate:modelValue":c[0]||(c[0]=e=>a.query=e)},null,8,["modelValue"])]),Object(l["S"])(Object(l["l"])(m,{class:"search-content",ref:"scrollRef"},{default:Object(l["R"])(()=>[Object(l["k"])("div",null,[Object(l["k"])("div",r,[o,Object(l["k"])("ul",null,[(Object(l["z"])(!0),Object(l["j"])(l["a"],null,Object(l["F"])(a.hotKeys,e=>(Object(l["z"])(),Object(l["j"])("li",{class:"item",key:e.id,onClick:c=>a.addQuery(e.key)},[Object(l["k"])("span",null,Object(l["M"])(e.key),1)],8,u))),128))])]),Object(l["S"])(Object(l["k"])("div",b,[Object(l["k"])("h1",j,[i,Object(l["k"])("span",{class:"clear",onClick:c[1]||(c[1]=(...e)=>a.showConfirm&&a.showConfirm(...e))},d)]),Object(l["l"])(S,{ref:"confirmRef",text:"是否清空所有搜索历史","confirm-btn-text":"清空",onConfirm:a.clearSearch},null,8,["onConfirm"]),Object(l["l"])(y,{searches:a.searchHistory,onSelect:a.addQuery,onDelete:a.deleteSearch},null,8,["searches","onSelect","onDelete"])],512),[[l["P"],a.searchHistory.length]])])]),_:1},512),[[l["P"],!a.query]]),Object(l["S"])(Object(l["k"])("div",f,[Object(l["l"])(v,{query:a.query,onSelectSong:a.selectSong,onSelectSinger:a.selectSinger},null,8,["query","onSelectSong","onSelectSinger"])],512),[[l["P"],a.query]]),Object(l["l"])(k,null,{default:Object(l["R"])(({Component:e})=>[Object(l["l"])(l["d"],{appear:"",name:"slide"},{default:Object(l["R"])(()=>[(Object(l["z"])(),Object(l["h"])(Object(l["J"])(e),{data:a.selectedSinger},null,8,["data"]))]),_:2},1024)]),_:1})])}t("14d9");var p=t("0ff1"),S=t("b98a"),y=t("9caa"),m=t("0921"),v=t("d296"),k=t("5502"),g=t("6605"),w=t("335a"),C=t("aaef"),H=t("0d92"),R=t("70d8"),q={name:"search",components:{SearchInput:p["a"],Suggest:S["a"],SearchList:y["a"],Scroll:R["a"],Confirm:m["a"]},setup(){const e=Object(l["E"])(""),c=Object(l["E"])([]),t=Object(l["E"])(null),a=Object(k["e"])(),s=Object(l["E"])(null),n=Object(l["E"])(null),r=Object(l["f"])(()=>a.state.searchHistory),o=Object(g["c"])(),{saveSearch:u,deleteSearch:b,clearSearch:j}=Object(H["a"])();function i(){s.value.scroll.refresh()}function O(c){e.value=c}function d(c){u(e.value),a.dispatch("addSong",c)}function f(c){u(e.value),t.value=c,h(c),o.push({path:"/search/"+c.mid})}function h(e){w["a"].session.set(C["f"],e)}function p(){n.value.show()}return Object(v["a"])().then(e=>{c.value=e.hotKeys}),Object(l["Q"])(e,async e=>{e||(await Object(l["s"])(),i())}),{showConfirm:p,confirmRef:n,scrollRef:s,query:e,hotKeys:c,addQuery:O,selectSong:d,selectSinger:f,selectedSinger:t,searchHistory:r,deleteSearch:b,clearSearch:j}}},E=(t("698c"),t("6b0d")),Q=t.n(E);const _=Q()(q,[["render",h],["__scopeId","data-v-5c07e52a"]]);c["default"]=_},"698c":function(e,c,t){"use strict";t("f602")},"70d8":function(e,c,t){"use strict";var l=t("7a23"),a=t("bba4"),s=t("5502");c["a"]={name:"wrap-scroll",props:a["a"].props,emits:a["a"].emits,render(e){return Object(l["p"])(a["a"],Object(l["r"])({ref:"scrollRef"},e.$props,{onScroll:c=>{e.$emit("scroll",c)}}),{default:Object(l["R"])(()=>[Object(l["G"])(e.$slots,"default")])})},setup(){const e=Object(l["E"])(null),c=Object(l["f"])(()=>e.value.scroll),t=Object(s["e"])(),a=Object(l["f"])(()=>t.state.playlist);return Object(l["Q"])(a,async()=>{await Object(l["s"])(),c.value.refresh()}),{scrollRef:e,scroll:c}}}},f602:function(e,c,t){}}]);